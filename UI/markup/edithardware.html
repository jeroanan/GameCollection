{#
Copyright (c) 2015 David Wilson
This file is part of Icarus.

Icarus is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Icarus is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Icarus.  If not, see <http://www.gnu.org/licenses/>.
#}

{% extends "master.html" %}

{% block content %}
        {% include 'status.html' %}
        <h1>{{title}}</h1>
         {% if hardware_found %}
         <form class="form-horizontal" method="post" role="form" action="updatehardware">

             <div class="row">
					{{ column('5', text_field('name', 'Name', hardware.name)) }}
					{{ column('2') }}

					<div class="col-sm-5">
                 <div class="form-group">
                   <label for="platform">Platform</label>
                   <select name="platform" id="platform" required="required" class="form-control">
                     {% for platform in platforms %}
                     {% if platform.name==hardware.platform %}
                     <option value="{{platform.name}}" selected="selected">{{platform.name}}</option>
                     {% else %}
                     <option value="{{platform.name}}">{{platform.name}}</option>
                     {% endif %}
                     {% endfor %}
                   </select>
                 </div>
					</div>

				 </div>

             <div class="row">

					<div class="col-sm-5">
					  <div class="form-group">
                    <label for="hardwaretype">Hardware Type</label>
						  <select name="hardwaretype" id="hardwaretype" class="form-control">
							 {% for ht in hardware_types %}
							 {% if ht.name==hardware.hardware_type %}
							 <option value="{{ht.name}}" selected="selected">{{ht.name}}</option>
							 {% else %}
							 <option value="{{ht.name}}">{{ht.name}}</option>
							 {% endif %}
							 {% endfor %}
						  </select>
                 </div>
					</div>

					{{ column('2') }}
					{{ column('2', number_field('numcopies', 'Number Owned', hardware.num_owned)) }}
					{{ column('1') }}					
					{{ column('2', number_field('numboxed', 'Number of Boxed Items', hardware.num_boxed)) }}
             </div>

				 {{ row([column('12', notes(hardware.notes))]) }}					  

             <div class="row">
                 <div class="col-sm-1">
                    <input type="button" value="Save" class="btn btn-primary" onclick="updateHardware();" />
					  </div>

					<div class="col-sm-1">
                 <input type="button" class="btn" value="Cancel" onclick="cancelEdit()" />
					</div>

					{{ column('9') }}

					<div class="col-sm-1">
                 <input type="button" class="btn btn-danger pull-right" value="Delete" onclick="showDeleteConfirm()"/>
					</div>

             </div>
			</form>

			<div id="deleteConfirm" style="display: none;" class="text-danger">
			  Really delete this hardware?
			  <a href="javascript:deleteHardware();">Yes</a>&nbsp;|&nbsp;<a href="javascript:hideDeleteConfirm();">No</a>
			</div>
			{% endif %}
			
			<input type="hidden" name="id" id="id" value="{{hardware.id}}" />
			{% endblock %}
