var Genres=function(a,b){this.ajaxFunctions=a,this.urls=b};Genres.prototype.addGenre=function(a,b){var c=$.Deferred(),d=this.ajaxFunctions||new Ajax;return d.addNameDescription(this.urls.addgenre,a,b).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},Genres.prototype.addNewGenre=function(){var a=$.Deferred();return this.ajaxFunctions.addNewNameDescription(this.addGenre).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a},Genres.prototype.deleteGenre=function(){var a=$.Deferred();return this.ajaxFunctions.ajaxDelete(this.urls.deletegenre,this.ajaxFunctions.getIdJson()).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a},Genres.prototype.updateGenre=function(){var a=$.Deferred(),b=this.ajaxFunctions||new Ajax;return b.updateNameDescription(urls.updategenre).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a},$(function(){var a=new Genres(new Ajax,urls);$(".addnewgenre").on("click",function(){return a.addNewGenre().done(function(){document.location.reload()}),!1}),$("a.yesDelete").on("click",function(b){return b.preventDefault(),a.deleteGenre().done(function(){document.location=urls.genres}),!1}),$("button.addSuggestedGenre").on("click",function(b){var c=b.currentTarget.attributes["data-index"].value,d=$("td.genreName-"+c).text(),e=$("td.genreDescription-"+c).text();return a.addGenre(d,e).done(function(){document.location.reload()}),!1}),$("input.saveButton").on("click",function(b){b.preventDefault(),a.updateGenre().done(function(){document.location=urls.genres})})});
//# sourceMappingURL=script.min.js.map