function validateSaveHardware(a){hideValidationFailure();var b="";""===a.name&&(b="Please enter a name"),""===a.numowned&&(b=appendText(b,"Please enter number owned")),""===a.numboxed&&(b=appendText(b,"Please enter number boxed"));var c=""===b;return c||this.ajax.showValidationFailure(b),c}var Hardware=function(a,b){this.ajax=a,this.urls=b};Hardware.prototype.getHardwareNoId=function(){return{name:$("#name").val(),platform:$("#platform").val(),numcopies:$("#numcopies").val(),numboxed:$("#numboxed").val(),notes:$("#notes").val(),hardwaretype:$("#hardwaretype").val()}},Hardware.prototype.deleteHardware=function(){this.ajax.ajaxDelete(urls.deletehardware,this.ajax.getIdJson(),urls.allhardware)},Hardware.prototype.addHardware=function(){var a=this.getHardwareNoId();this.validateSaveHardware(a)&&this.ajax.ajaxSave(urls.savehardware,a,urls.allhardware)},Hardware.prototype.updateHardware=function(){var a=this.getHardwareNoId();a.id=this.ajax.getIdJson().id,this.validateSaveHardware(a)&&this.ajax.ajaxSave(urls.updatehardware,a,urls.allhardware)},Hardware.prototype.validateSaveHardware=function(a){this.ajax.hideValidationFailure();var b="";""===a.name&&(b="Please enter a name"),""===a.numowned&&(b=this.ajax.appendText(b,"Please enter number owned")),""===a.numboxed&&(b=this.ajax.appendText(b,"Please enter number boxed"));var c=""===b;return c||this.ajax.showValidationFailure(b),c},Hardware.prototype.sortHardware=function(a){var b=$("#hwsortfield"),c=$("#hwsortdir"),d=$("#gamerows"),e=c.val(),f="asc",g=null===d.val()?999999:d.val();b.val()==a&&(f=toggleSortDirection(e)),b.val(a),c.val(f);var h={field:a,sortdir:f,numrows:g};this.ajax.loadAjax("#hardware",urls.sorthardware,h,this.initSorting)},Hardware.prototype.initSorting=function(a,b){"1"!==b&&(a=new Hardware(new Ajax,urls)),$("a.sorthardwarename").on("click",function(b){a.sortHardware("name")}),$("a.sorthardwareplatform").on("click",function(b){a.sortHardware("platform")}),$("a.sorthardwarenumowned").on("click",function(b){a.sortHardware("numowned")})},$(function(){var a=new Hardware(new Ajax,urls);a.initSorting(a,"1"),$("input.saveButton").on("click",function(){"/edithardware"===document.location.pathname&&a.updateHardware(),"/addhardware"===document.location.pathname&&a.addHardware()}),$("a.yesDelete").on("click",function(b){return b.preventDefault(),a.deleteHardware(),document.location="/hardware",!1})});
//# sourceMappingURL=script.min.js.map