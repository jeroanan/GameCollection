var Platforms=function(a,b){this.ajax=a,this.urls=b};Platforms.prototype.addPlatform=function(a,b){var c=$.Deferred();return ajax=this.ajax||new Ajax,ajax.addNameDescription(urls.addplatform,a,b).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},Platforms.prototype.addNewPlatform=function(){var a=$.Deferred();return this.ajax.addNewNameDescription(this.addPlatform).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a},Platforms.prototype.deletePlatform=function(){var a=$.Deferred();return this.ajax.ajaxDelete(urls.deleteplatform,this.ajax.getIdJson()).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a},Platforms.prototype.updatePlatform=function(){var a=$.Deferred();return this.ajax.updateNameDescription(urls.updateplatform).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a},$(function(){var a=new Platforms(new Ajax,urls);$("button.addnewplatform").on("click",function(b){b.preventDefault(),a.addNewPlatform().done(function(){document.location.reload()})}),$("button.addsuggestedplatform").on("click",function(b){b.preventDefault();var c=b.currentTarget.attributes["data-index"].value,d=$("td.suggestedplatformname-"+c).text(),e=$("td.suggestedplatformdescription-"+c).text();return a.addPlatform(d,e),document.location.reload(),!1}),$("input.saveButton").on("click",function(b){return b.preventDefault(),a.updatePlatform().done(function(){document.location="/platforms"}),!1}),$("a.yesDelete").on("click",function(b){return b.preventDefault(),a.deletePlatform().done(function(){document.location="/platforms"}),!1})});
//# sourceMappingURL=script.min.js.map