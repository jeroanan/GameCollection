var HardwareTypes=function(a,b){this.ajax=a,this.urls=b};HardwareTypes.prototype.deleteHardwareType=function(){var a=$.Deferred();return this.ajax.ajaxDelete(urls.deletehardwaretype,this.ajax.getIdJson()).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a},HardwareTypes.prototype.addHardwareType=function(a,b){var c=$.Deferred(),d=this.ajax||new Ajax;return d.addNameDescription(urls.addhardwaretype,a,b).done(function(a){c.resolve(a)}).fail(function(a){c.reject(a)}),c},HardwareTypes.prototype.addNewHardwareType=function(){var a=$.Deferred(),b={name:$("#name").val(),description:$("#description").val()},c=this.ajax.validateNameDescription(b);return"fail"===c.result?(a.reject({fields:c.fields}),a):(this.ajax.addNewNameDescription(this.addHardwareType).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a)},HardwareTypes.prototype.updateHardwareType=function(){var a=$.Deferred();return this.ajax.updateNameDescription(urls.updatehardwaretype).done(function(b){a.resolve(b)}).fail(function(b){a.reject(b)}),a},$(function(){var a=new HardwareTypes(new Ajax,urls),b=function(a,b){$("."+a).remove(),b&&b.removeAttr("disabled")},c="hardware tpye";$("button.addnewhardwaretype").on("click",function(d){var e=$("button.addnewhardwaretype"),f="add-new-hardware-type-loading-gif",g=$("input");return d.preventDefault(),doLoading(e,f,g),a.addNewHardwareType().done(function(a){document.location.reload()}).fail(function(a){a.fields&&showFailure(a.fields,c)}).always(function(){b(f,g)}),!1}),$("a.yesDelete").on("click",function(c){var d=$("a.yesDelete"),e="delete-hardware-type-loading-gif",f=$("input");return c.preventDefault(),doLoading(d,e,f),a.deleteHardwareType().done(function(a){document.location=urls.hardwaretypes}).always(function(){b(e,f)}),!1}),$("input.saveButton").on("click",function(d){var e=$("input.saveButton"),f="save-hardware-type-loading-gif",g=$("input");return d.preventDefault(),doLoading(e,f,g),a.updateHardwareType().done(function(){document.location=urls.hardwaretypes}).fail(function(a){a.fields&&showFailure(a.fields,c)}).always(function(a){b(f,g)}),!1}),$("button.addsuggestedhardwaretype").on("click",function(c){var d=c.currentTarget.attributes["data-index"].value,e=$("td.hardwareTypeName-"+d).text(),f=$("td.hardwareTypeDescription-"+d).text(),g=$("button.addsuggestedhardwaretype-"+d),h="add-suggested-hardware-loading-gif-"+d;return c.preventDefault(),doLoading(g,h),g.attr("disabled","true"),a.addHardwareType(e,f).done(function(){document.location.reload()}).alwayns(function(){b(h),g.removeAttr("disabled")}),!1})});
//# sourceMappingURL=script.min.js.map